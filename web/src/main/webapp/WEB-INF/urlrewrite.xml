<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE urlrewrite PUBLIC "-//tuckey.org//DTD UrlRewrite 4.0//EN"
        "http://www.tuckey.org/res/dtds/urlrewrite4.0.dtd">

<!--

    Configuration file for UrlRewriteFilter
    http://www.tuckey.org/urlrewrite/

-->
<urlrewrite>
    <!-- This should not be necessary with the F5 rules -->
    <rule match-type="regex">
        <condition name="host" operator="equal">foo.redhat.com</condition>
        <from>^/(resources/js/includes/chrometwo/analytics/main.js)</from>
        <to type="redirect">https://access.redhat.com/$1</to>
    </rule>

    <rule match-type="regex">
        <condition name="host" operator="equal">foo.redhat.com</condition>
        <from>^/(webassets|chrome_themes.*?)</from>
        <to type="redirect">https://access.redhat.com/$1</to>
    </rule>

    <rule match-type="regex">
        <condition name="host" operator="equal">foo.redhat.com</condition>
        <set name="Host">access.redhat.com</set>
        <from>^/(services.*?)</from>
        <to type="proxy">https://access.redhat.com/$1</to>
    </rule>
</urlrewrite>
